!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=wp.i18n},function(e,t){e.exports=React},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.blocks},function(e,t){e.exports=wp.blockEditor},function(e,t,n){"use strict";n.r(t);var r=n(3),l=n(1),c=n(0),o=n(4),i=n(2);const a="my-domain",m=e=>{const{onClick:t}=e,n=wp.element.createElement(i.Button,{label:Object(c.__)("Preview",a),icon:"visibility",onClick:t}),r=wp.element.createElement(i.Button,{label:Object(c.__)("Edit",a),icon:"edit",onClick:t});return wp.element.createElement(o.BlockControls,null,wp.element.createElement(i.Toolbar,null,e.isEditing?n:r))},s=e=>wp.element.createElement("div",{className:"my-block"},wp.element.createElement("p",null,Object(c.__)("Hello, Gutenberg!",a)));var u={name:"my/basic",category:"my-blocks",title:Object(c.__)("01 - Basic",a),description:Object(c.__)("An MVP example block",a),keywords:[Object(c.__)("Example",a),Object(c.__)("Custom",a)],attributes:{},edit:s,save:s};var b={name:"my/text-control",category:"my-blocks",title:Object(c.__)("02 - Text Control",a),description:Object(c.__)("A Text Control example block",a),keywords:[Object(c.__)("Example",a),Object(c.__)("Custom",a)],attributes:{text:{type:"string",default:Object(c.__)("Hello, Gutenberg!",a)}},edit:e=>{const{attributes:t,setAttributes:n}=e;return wp.element.createElement("div",{className:"my-block"},wp.element.createElement(i.TextControl,{type:"text",label:Object(c.__)("Say hello",a),value:t.text,onChange:e=>{n({text:e})}}))},save:e=>{const{attributes:t}=e;return wp.element.createElement("div",{className:"my-block"},wp.element.createElement("p",null,t.text))}};const d=e=>{const{attributes:t,setAttributes:n}=e;return wp.element.createElement("div",{className:"my-block"},wp.element.createElement(i.TextControl,{type:"text",label:Object(c.__)("Say hello",a),value:t.text,onChange:e=>{n({text:e})}}))},p=e=>{const{attributes:t}=e;return wp.element.createElement("div",{className:"my-block"},wp.element.createElement("p",null,t.text))};var y={name:"my/preview-mode",category:"my-blocks",title:Object(c.__)("04 - Preview Mode",a),description:Object(c.__)('An example block that can toggle between "Edit" and "Preview" mode',a),keywords:[Object(c.__)("Example",a),Object(c.__)("Custom",a)],attributes:{text:{type:"string",default:Object(c.__)("Hello, Gutenberg!",a)},mode:{type:"string",default:"edit"}},edit:e=>{const{attributes:t,setAttributes:n}=e,r="edit"===t.mode;return wp.element.createElement(l.Fragment,null,wp.element.createElement(m,{isEditing:r,onClick:e=>{n({mode:r?"preview":"edit"})}}),r?wp.element.createElement(d,e):null,r?null:wp.element.createElement(p,e))},save:p};const f=e=>{const t=Object(l.useRef)(),{attributes:n,clientId:r}=e,c="edit"===n.mode,o=e=>{if(!t.current)return;const n=t.current.querySelector(".my-block-preview"),r=t.current.querySelector(".my-block-iframe").contentWindow.document;r.body.innerHTML=n.outerHTML,window.myBlocks.styles.forEach(e=>{const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,r.head.appendChild(t)}),window.myBlocks.scripts.forEach(e=>{const t=document.createElement("script");t.src=e,t.async=!0,r.body.appendChild(t)})};return Object(l.useEffect)(()=>{if(!t.current)return;let e=t.current.querySelector(".my-block-iframe");return e||(e=document.createElement("iframe"),e.setAttribute("data-block",r),e.setAttribute("scrolling","no"),e.className="my-block-iframe",e.style.height=0),e.addEventListener("load",o),t.current.appendChild(e),()=>{e.removeEventListener("load",o)}},[c]),wp.element.createElement("div",{ref:t},wp.element.createElement("div",{className:"my-block-preview"},wp.element.createElement(p,e)))};var _={name:"my/iframe-preview",category:"my-blocks",title:Object(c.__)("05 - iFrame Preview",a),description:Object(c.__)("An example block that uses an iframe preview",a),keywords:[Object(c.__)("Example",a),Object(c.__)("Custom",a)],attributes:{text:{type:"string",default:Object(c.__)("Hello, Gutenberg!",a)},mode:{type:"string",default:"edit"}},edit:e=>{const{attributes:t,setAttributes:n}=e,r="edit"===t.mode;return wp.element.createElement(l.Fragment,null,wp.element.createElement(m,{isEditing:r,onClick:e=>{n({mode:r?"preview":"edit"})}}),r?wp.element.createElement(d,e):null,r?null:wp.element.createElement(f,e))},save:p};window.addEventListener("message",({data:e})=>{if(e===Object(e)&&"blockId"in e&&"height"in e){const t=document.querySelector('iframe[data-block="'.concat(e.blockId,'"]'));t&&(t.style.height=Math.ceil(e.height)+"px")}}),[u,b,_,y].forEach(e=>Object(r.registerBlockType)(e.name,e))}]);